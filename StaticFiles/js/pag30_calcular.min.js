function Calcular0(e){var a=Number($x(e+"LARGO").value),u=Number($x(e+"ANCHO").value),l=Number($x(e+"MULT_X").value),v=Number($x(e+"MULT_Y").value),$=a*l+Number($x(e+"REFILE").value),x=u*v,A=l*v;$x(e+"PLARGO").value=$,$x(e+"PANCHO").value=x,$x(e+"MULT").value=A,$x(e+"SLOTTER").value=$x(e+"SLOTTER").value||a,$x(e+"TRAZADOS").value=x}function Calcular(){var e="P"+$v("pFlowStepId")+"_",a=$x(e+"ART_TIPO_ID").value;switch(a){case"0":Calcular0(e);break;case"5":var u=Number($x(e+"LARGO").value),l=Number($x(e+"ANCHO").value),v=u+(r=Number($x(e+"REFILE").value)),$=l,x=1;$x(e+"PLARGO").value=v,$x(e+"PANCHO").value=$,$x(e+"MULT").value=x,$x(e+"SLOTTER").value=$x(e+"SLOTTER").value||u,$x(e+"TRAZADOS").value=$;break;case"1":var A=$x(e+"SLOTTER").value||$x(e+"LARGO").value,r=Number($x(e+"REFILE").value),L=$x(e+"MULT_X").value||1,O=A.split(":");v=0;for(S=0;S<O.length;S++)v+=1*O[S];$x(e+"LARGO").value=v,$x(e+"PLARGO").value=v*L+r,$x(e+"SLOTTER").value=$x(e+"SLOTTER").value||$x(e+"LARGO").value;var R=(C=$x(e+"TRAZADOS").value||$x(e+"ANCHO").value).split(":");$=0;for(S=0;S<R.length;S++)$+=1*R[S];$x(e+"PANCHO").value=$,$x(e+"TRAZADOS").value=C,$x(e+"MULT").value=L;break;case"2":break;case"3":u=Number($x(e+"LARGO").value),l=Number($x(e+"ANCHO").value);var N=Number($x(e+"ALTO").value),T=(v=u*(L=Number($x(e+"DIV_X").value))+l*(m=Number($x(e+"DIV_Y").value))+(r=Number($x(e+"REFILE").value)),$=N,x=1,(1*L+1)*(1*m+1));$x(e+"PLARGO").value=v,$x(e+"PANCHO").value=$,$x(e+"MULT").value=x,$x(e+"SLOTTER").value=v,$x(e+"TRAZADOS").value=$,$x(e+"DIV_Z").value=T;break;case"4":u=Number($x(e+"LARGO").value),l=Number($x(e+"ANCHO").value),N=Number($x(e+"ALTO").value),r=Number($x(e+"REFILE").value);var b=Number($x(e+"CENTRO").value),E=Number($x(e+"DESARROLLO").value);null==(s=Number($x(e+"CIERRE_VALOR").value))&&(s=30);$=N;1==E?(v=u+l+s+r,O=s+":"+l+":"+u,x=.5):(v=2*(u+l)+s+r,O=1*s+1*b+":"+l+":"+u+":"+l+":"+(1*u-1*b),x=1),$x(e+"PLARGO").value=v,$x(e+"PANCHO").value=$,$x(e+"MULT").value=x,$x(e+"SLOTTER").value=O;break;case"6":u=Number($x(e+"LARGO").value),l=Number($x(e+"ANCHO").value),L=Number($x(e+"MULT_X").value);var m=Number($x(e+"MULT_Y").value);r=Number($x(e+"REFILE").value),O=(A=$x(e+"SLOTTER").value||$x(e+"LARGO").value).split(":"),v=0;for(S=0;S<O.length;S++)v+=1*O[S];for(S=0;S<L;S++)A=A+":"+A;v*=L;$=l;2==m?$*=2:m=1;var c=$;x=L*m;v+=r,$x(e+"PLARGO").value=v,$x(e+"PANCHO").value=$,$x(e+"MULT").value=x,$x(e+"SLOTTER").value=$x(e+"SLOTTER").value||$x(e+"LARGO").value,$x(e+"TRAZADOS").value=$,$x(e+"MULT_X").value=L,$x(e+"MULT_Y").value=m;break;case"7":u=Number($x(e+"LARGO").value),l=Number($x(e+"ANCHO").value),N=Number($x(e+"ALTO").value),r=Number($x(e+"REFILE").value),b=Number($x(e+"CENTRO").value),E=Number($x(e+"DESARROLLO").value);var _=Number($x(e+"CIERRE").value),s=Number($x(e+"CIERRE_VALOR").value);-1==_?s=0:0==s&&(s=30);try{U=$x(e+"ALETA_SUP").value}catch(e){U=0}try{I=$x(e+"ALETA_INF").value}catch(e){I=0}c=[0,0,0,N,0,0,0];switch(U){case"0":P=0;break;case"1":P=Math.round(l/2),c[2]=P;break;case"2":P=Number($x(e+"ALETA_SUP_VALOR").value),c[2]=P;break;case"3":P=Number($x(e+"ALETA_SUP_VALOR").value),c[0]=P,c[2]=Math.round(l/2)}switch(I){case"0":G=0;break;case"1":G=Math.round(l/2),c[4]=G;break;case"2":G=Number($x(e+"ALETA_INF_VALOR").value),c[4]=G;break;case"3":G=Number($x(e+"ALETA_INF_VALOR").value),c[6]=G,c[4]=Math.round(l/2)}if("7"!=a&&"6"!=a||($x(e+"ALETA_SUP_VALOR").value=P),"7"!=a&&"5"!=a||($x(e+"ALETA_INF_VALOR").value=G),$x(e+"CALCULAR_0").checked){$x(e+"DEBUG").value="Calcular";R="",$=0;for(var S=0;S<c.length;S++)c[S]>0&&(R.length>0&&(R+=":"),R+=c[S],$+=1*c[S]);$x(e+"TRAZADOS").value=R}else{$x(e+"DEBUG").value=$x(e+"CALCULAR").value;var C;R=(C=$x(e+"TRAZADOS").value).split(":"),$=0;for(S=0;S<R.length;S++)$+=1*R[S]}1==E?(O=s+":"+l+":"+u,v=u+l+s+r,x=.5):(O=0==b?s+":"+l+":"+u+":"+l+":"+u:b==u?s+":"+u+":"+l+":"+u+":"+l:1*s+1*b+":"+l+":"+u+":"+l+":"+(1*u-1*b),v=2*(u+l)+s+r,x=1),$x(e+"PLARGO").value=v,$x(e+"PANCHO").value=$,$x(e+"MULT").value=x,$x(e+"SLOTTER").value=O,$x(e+"CIERRE_VALOR").value=s;break;case"8":u=Number($x(e+"LARGO").value),l=Number($x(e+"ANCHO").value),N=Number($x(e+"ALTO").value),r=Number($x(e+"REFILE").value);var t=Number($x(e+"DESARROLLO").value),U=(L=Number($x(e+"MULT_X").value),$x(e+"ALETA_SUP").value),I=$x(e+"ALETA_INF").value;x=1,c=[0,0,0,l,0,0,0],O=N+":"+u+":"+N,v=u+2*N;switch(1==t&&(c[3]=u,v=l+2*N,O=N+":"+l+":"+N),2==L?(v*=2,O=O+":"+O,x=2):L=1,v+=r,U){case"0":break;case"1":c[2]=N;break;case"2":c[0]=N-3,c[1]=10,c[2]=N}switch(I){case"0":break;case"1":c[4]=N;break;case"2":c[6]=N-3,c[5]=10,c[4]=N}for(R="",$=0,S=0;S<c.length;S++)c[S]>0&&(R.length>0&&(R+=":"),R+=c[S],$+=1*c[S]);$x(e+"PLARGO").value=v,$x(e+"PANCHO").value=$,$x(e+"MULT").value=x,$x(e+"MULT_X").value=L,$x(e+"SLOTTER").value=O,$x(e+"TRAZADOS").value=R;break;case"9":u=Number($x(e+"LARGO").value),l=Number($x(e+"ANCHO").value),N=Number($x(e+"ALTO").value),r=Number($x(e+"REFILE").value),b=Number($x(e+"CENTRO").value),E=Number($x(e+"DESARROLLO").value),s=0;(_=Number($x(e+"CIERRE").value))>0&&(s=Number($x(e+"CIERRE_VALOR").value));var P,G;U=$x(e+"ALETA_SUP").value,I=$x(e+"ALETA_INF").value;switch(U){case"0":P=0,O=N;break;case"1":O=(P=Number($x(e+"ALETA_SUP_VALOR").value))+":"+N}switch(I){case"0":G=0;break;case"1":O=O+":"+(G=Number($x(e+"ALETA_INF_VALOR").value))}v=G+N+P+r,R="";1==E?(R=u+":"+l+":"+s,$=u+l+s,x=.5):(R=u+":"+l+":"+u+":"+l+":"+s,$=2*(u+l)+s,x=1),$x(e+"SLOTTER").value=O,$x(e+"TRAZADOS").value=R,$x(e+"PLARGO").value=v,$x(e+"PANCHO").value=$,$x(e+"MULT").value=x;break;default:$x(e+"DEBUG").value="TIPO:"+a}dibujar_canvas("myplano",0)}