var c_w=4e3,c_h=2e3,myescala=.5,escala_ref_largo=600,escala_ref_ancho=280,borde=10;function dibujar_canvas(e="mycanvas"){3==document.getElementById("P30_ART_TIPO_ID").value?canvas_division():canvas_cajas()}function canvas_division(e="mycanvas"){var t=document.getElementById(e),a=t.getContext("2d");a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,t.width,t.height),escala=1,a.setTransform(escala,0,0,escala,t.clientWidth/2,50);var l=document.getElementById("P30_LARGO").value,n=document.getElementById("P30_ANCHO").value,r=document.getElementById("P30_ALTO").value,o=(document.getElementById("P30_DIV_X").value,document.getElementById("P30_DIV_Y").value,1*document.getElementById("P30_DIV_X").value+1),c=1*document.getElementById("P30_DIV_Y").value+1;a.strokeStyle="#000000",a.lineWidth=2/escala;a.font="50px Arial";var i=l/2;a.save(),a.translate(-i,0),a.fillStyle="#ece2c6",a.fillRect(0,0,l,r),a.beginPath(),a.rect(0,0,l,r),a.stroke();for(var s=l/c,m=1;m<c;m++)a.beginPath(),a.moveTo(s*m,0),a.lineTo(s*m,r/2),a.stroke();a.translate(0,r),a.translate(0,50),a.fillStyle="#ece2c6",a.fillRect(0,0,n,r),a.beginPath(),a.rect(0,0,n,r),a.stroke();var v=n/o;for(m=1;m<o;m++)a.beginPath(),a.moveTo(v*m,r/2),a.lineTo(v*m,r),a.stroke();a.restore()}function canvas_cajas(e="mycanvas"){var t=document.getElementById(e),a=t.getContext("2d");a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,c_w,c_h),a.fillStyle="#ffffff",a.fillRect(0,0,c_w,c_h);var l=document.getElementById("P30_ART_TIPO_ID").value,n=document.getElementById("P30_PLARGO").value,r=document.getElementById("P30_PANCHO").value;escala=1;t.clientWidth,t.clientHeight;a.setTransform(1,0,0,1,2e3,100),a.strokeStyle="#000000",a.lineWidth=4,a.fillStyle="#000000";a.font="30px Arial";var o=n/2;if(a.save(),a.translate(-o,0),a.beginPath(),a.rect(0,0,n,r),a.stroke(),a.restore(),"0"==l||"1"==l){var c=Number(document.getElementById("P30_MULT_X").value);if(c>1){a.save(),a.translate(-o,0);for(var i=Number(document.getElementById("P30_LARGO").value),s=1;s<c;s++)a.beginPath(),a.moveTo(i*s,0),a.lineTo(i*s,r),a.stroke();a.restore()}}if("0"==l){var m=Number(document.getElementById("P30_MULT_Y").value);if(m>1){a.save(),a.translate(-o,0);var v=Number(document.getElementById("P30_ANCHO").value);for(s=1;s<m;s++)a.beginPath(),a.moveTo(0,v*s),a.lineTo(n,v*s),a.stroke();a.restore()}}if("1"==l||l>"4"){var d=document.getElementById("P30_TRAZADOS").value.split(":"),f=0;for(a.save(),a.translate(-o,0),s=0;s<d.length-1;s++)f+=1*d[s],a.beginPath(),a.moveTo(0,f),a.lineTo(n,f),a.stroke();f=0;var u=0,_=0;for(a.translate(n,0),a.textAlign="left",s=0;s<d.length;s++)_=(f+=1*d[s])/2+u/2,d[s]<30?a.font="25px Arial":a.font="50px Arial",a.fillText(Math.round(d[s]),10,_),u=f;a.restore()}if(l>="3"||"1"==l){d=document.getElementById("P30_SLOTTER").value.split(":"),f=0;for(a.save(),a.translate(-o,0),s=0;s<d.length;s++)f+=1*d[s],a.beginPath(),a.moveTo(f,0),a.lineTo(f,r),a.stroke();f=0;u=0;var g=0;for(a.textAlign="center",s=0;s<d.length;s++)g=(f+=1*d[s])/2+u/2,d[s]<100?a.font="25px Arial":a.font="50px Arial",a.fillText(d[s],g,-10),u=f;a.restore()}}